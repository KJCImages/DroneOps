<!-- Temporary note: Testing GitHub Pages deployment trigger -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#007bff" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="https://i.imgur.com/W0v3UaF.png" />
  <title>DroneOps Beta Checklist</title>
  <style>
    body {font-family: Arial, sans-serif; padding: 1rem; background-color: #f2f2f2; color: #333; max-width: 600px; margin: auto;}
    h1, h2, h3 {text-align: center; color: #2c3e50;}
    .section {margin-bottom: 2rem;}
    label {display: block; padding: 0.5rem; background: #fff; border: 1px solid #ddd; margin-bottom: 0.5rem; border-radius: 5px;}
    input[type="checkbox"] {margin-right: 0.5rem;}
    .logo {display: block; max-width: 100%; height: auto; margin: 0 auto 1rem auto;}
    #success-message {display: none; background-color: #d4edda; color: #155724; padding: 1rem; text-align: center; border: 1px solid #c3e6cb; border-radius: 8px; font-size: 1.2rem; margin-top: 2rem;}
    .reset-button {display: block; margin: 2rem auto; padding: 0.5rem 1rem; font-size: 1rem; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;}
    .reset-button:hover {background-color: #0056b3;}
  </style>
</head>
<body>
  <img src="https://i.imgur.com/W0v3UaF.png" alt="KJC Images Logo" class="logo">
  <h1>DroneOps Beta Daily Checklist</h1>
  <!-- Sections remain unchanged -->
  <div id="success-message">‚úÖ Congratulations, Pilot! You‚Äôve completed the full checklist. Well-earned rest awaits. üéâ</div>
  <button class="reset-button" onclick="confirmFullReset()">Reset Entire Checklist</button>
  <audio id="success-sound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3" preload="auto"></audio>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    const checkboxes = document.querySelectorAll('input[type="checkbox"][data-id]');
    const successMessage = document.getElementById('success-message');
    const successSound = document.getElementById('success-sound');
    let confettiFired = false;

    function saveState() { checkboxes.forEach(cb => localStorage.setItem(cb.dataset.id, cb.checked ? '1' : '0')); }
    function restoreState() { checkboxes.forEach(cb => cb.checked = localStorage.getItem(cb.dataset.id) === '1'); }
    function checkCompletion() { const allChecked = Array.from(checkboxes).every(cb => cb.checked); if (allChecked && !confettiFired) { successMessage.style.display = 'block'; successSound.play(); window.confetti({particleCount:100,spread:70,origin:{y:0.6}}); confettiFired=true;} else if (!allChecked) { successMessage.style.display = 'none'; confettiFired = false; } saveState(); }
    function resetChecklist() { checkboxes.forEach(cb => {cb.checked = false; localStorage.removeItem(cb.dataset.id);}); successMessage.style.display = 'none'; confettiFired = false; }
    function resetFlightChecklist() { if (confirm("Reset flight-related sections?")) { ['pre-flight','in-flight','post-flight'].forEach(id => document.querySelectorAll(`#${id} input[type="checkbox"]`).forEach(cb => {cb.checked = false; localStorage.removeItem(cb.dataset.id);})); successMessage.style.display = 'none'; confettiFired = false; }}
    function confirmFullReset() { if (confirm("Reset entire checklist?")) resetChecklist(); }
    function toggleItems(group) { const element = document.getElementById(`${group}-items`); element.style.display = element.style.display === 'none' ? 'block' : 'none'; }
    checkboxes.forEach(cb => cb.addEventListener('change', checkCompletion));
    window.addEventListener('load', () => { restoreState(); checkCompletion(); });
    if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('service-worker.js').then(()=>console.log('‚úÖ Service Worker Registered')).catch(err=>console.error('‚ùå Service Worker Error:',err)); }); }
  </script>
</body>
</html>
